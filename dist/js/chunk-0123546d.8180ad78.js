(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0123546d"],{"00f5":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"default-page status-page page"},[1==t.pageShow?e("section",{staticClass:"msg-waiting"},[e("div",{staticClass:"pay-msg"},[e("div",{staticClass:"pay-msg__icon-area"},[e("van-circle",{ref:"circle",staticClass:"flex",attrs:{rate:t.rate,speed:100,"stroke-width":60,color:"#ffee00","layer-color":"#eee",size:"240px"},model:{value:t.currentRate,callback:function(a){t.currentRate=a},expression:"currentRate"}},[e("van-count-down",{ref:"countDown",staticClass:"flex-1",attrs:{time:t.time,"auto-start":"",format:"ss"},on:{change:t.setCircleRate}})],1)],1),t._m(0)])]):t._e(),2==t.pageShow?e("section",{staticClass:"msg-success"},[e("div",{staticClass:"pay-msg"},[e("div",{staticClass:"pay-msg__icon-area"},[e("van-icon",{staticClass:"pay-icon_msg pay-icon-success",attrs:{name:"checked"}})],1),t._m(1),e("div",{staticClass:"pay-msg__opr-area"},[e("div",{staticClass:"vip-btn-wrap"},[e("van-button",{staticClass:"vip-btn",attrs:{type:"primary",block:""},on:{click:t.toEndPage}},[t._v("next")])],1)])])]):t._e(),3==t.pageShow?e("section",{staticClass:"msg-warn"},[e("div",{staticClass:"pay-msg"},[e("div",{staticClass:"pay-msg__icon-area"},[e("van-icon",{staticClass:"pay-icon_msg pay-icon-fail",attrs:{name:"warning"}})],1),t._m(2),e("div",{staticClass:"pay-msg__opr-area"},[e("div",{staticClass:"vip-btn-wrap"},[e("van-button",{staticClass:"vip-btn",attrs:{type:"default",block:""},on:{click:t.toLastPage}},[t._v("Back")])],1)])])]):t._e()])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pay-msg__tips-area"},[e("p",{staticClass:"pay-msg__tips"},[t._v(" Checking payment status... ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pay-msg__text-area"},[e("h2",{staticClass:"pay-msg__title"},[t._v("Payment is successful")]),e("p",{staticClass:"pay-msg__desc"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pay-msg__text-area"},[e("h2",{staticClass:"pay-msg__title"},[t._v("Payment is failed")])])}],r=e("f8b7"),c={data:function(){return{pageShow:1,time:3e4,rate:100,currentRate:0,payStatus:40003,payStatusTxt:"Checking payment status...",seconds:30}},mounted:function(){this.queryOrderPayStatus()},computed:{order:function(){return this.$store.getters.order}},methods:{onClickLeft:function(){this.$router.go(-1)},setCircleRate:function(t){this.seconds=t.seconds,this.rate=(30-t.seconds)/30*100,40003==this.payStatus&&t.seconds%5==0&&this.queryOrderPayStatus()},queryOrderPayStatus:function(){var t=this,a=this.order.order_id;Object(r["d"])(a).then((function(a){var e=a.data;switch(e.status){case 40001:t.$refs.countDown.pause(),t.payStatusTxt=a.data.message,t.payStatus=e.status,t.pageShow=2;try{Adjust.trackEvent(paySuccessEvent)}catch(s){}setTimeout((function(){t.toEndPage()}),1e3);break;case 40002:t.$refs.countDown.pause(),t.payStatusTxt=a.data.message,t.payStatus=e.status,t.pageShow=3;try{Adjust.trackEvent(payFailEvent)}catch(s){}break;case 40003:0==t.seconds&&t.$refs.countDown.reset(),t.payStatus=e.status,t.pageShow=1;break;case 40004:t.payStatusTxt=a.data.message,t.payStatus=e.status,t.pageShow=3;break;default:t.payStatusTxt=a.data.message,t.payStatus=e.status,t.pageShow=3;break}})).catch((function(){t.pageShow=3}))},toEndPage:function(){this.$router.push({name:"end"})},toVipPage:function(){this.$router.push({name:"vip"})},toLastPage:function(){switch(this.payStatus){case 40002:this.toVipPage();break;case 40004:this.toVipPage();break;default:this.toVipPage();break}}}},i=c,o=(e("f6ee"),e("2877")),u=Object(o["a"])(i,s,n,!1,null,"1332249a",null);a["default"]=u.exports},6995:function(t,a,e){},f6ee:function(t,a,e){"use strict";var s=e("6995"),n=e.n(s);n.a},f8b7:function(t,a,e){"use strict";e.d(a,"a",(function(){return n})),e.d(a,"b",(function(){return r})),e.d(a,"e",(function(){return c})),e.d(a,"f",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"d",(function(){return u}));var s=e("b775");function n(){return Object(s["a"])({url:"/member/cards",method:"get"})}function r(){return Object(s["a"])({url:"/payment/channels",method:"get"})}function c(t){return Object(s["a"])({url:"/member/orders",method:"post",data:t})}function i(t){return Object(s["a"])({url:"/member/orders/cashfree",method:"post",data:t})}function o(t){return Object(s["a"])({url:"/orders/".concat(t.order_id,"/mpurse"),method:"post",data:t})}function u(t){return Object(s["a"])({url:"/payment/cashfree/return",method:"get",params:{order_id:t}})}}}]);
//# sourceMappingURL=chunk-0123546d.8180ad78.js.map