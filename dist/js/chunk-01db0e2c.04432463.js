(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01db0e2c"],{"7db4":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"step-page"},[e("header",[e("van-nav-bar",{attrs:{title:"Select Payment Option","left-arrow":"","left-text":"Back",fixed:"",placeholder:""},on:{"click-left":t.onClickLeft}})],1),e("section",[e("div",{staticClass:"panel padding"},[e("div",{staticClass:"panel-hd"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-hd"},[e("p",[t._v(t._s(t.product.title))])]),e("div",{staticClass:"card-bd"},[e("div",{staticClass:"product-info"},[e("h1",{staticClass:"title"},[t._v("â‚¹"+t._s(parseInt(t.product.price)))]),e("p",{staticClass:"desc"},[t._v(t._s(t.product.description))])])])])]),e("div",{staticClass:"panel-bd "},[e("h2",{staticClass:"vip__title"},[t._v("Select Payment Option")]),e("van-radio-group",{model:{value:t.paymentOptionId,callback:function(n){t.paymentOptionId=n},expression:"paymentOptionId"}},t._l(t.list,(function(n){return e("van-cell-group",{key:n.id},[n.disabled?t._e():e("van-cell",{attrs:{title:n.title,label:n.description,center:"",clickable:""},on:{click:function(e){t.paymentOptionId=n.id}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[e("van-radio",{attrs:{name:n.id,"checked-color":"#ff6501"}})]},proxy:!0}],null,!0)})],1)})),1)],1)]),e("div",{staticClass:"vip-btn-wrap"},[e("van-button",{staticClass:"vip-btn",attrs:{type:"primary",disabled:t.isSubmitting,loading:t.isSubmitting,"loading-text":"Submitting...",block:""},on:{click:t.submitOrder}},[t._v("Continue")])],1)])])},a=[],r=(e("4de4"),e("e7e5"),e("d399")),s=e("f8b7"),c={data:function(){return{list:[],paymentOptionId:"",isSubmitting:!1}},mounted:function(){this.getPaymentChannelList()},computed:{product:function(){return this.$store.getters.product}},methods:{onClickLeft:function(){this.$router.go(-1)},getPaymentChannelList:function(){var t=this;Object(s["b"])().then((function(n){t.list=n.data||[]}))},setPaymentOption:function(){var t=this.getPaymentOptionById(this.paymentOptionId);this.$store.dispatch("product/setPaymentOptionInfo",t),this.submitOrder()},getPaymentOptionById:function(t){var n=this.list.filter((function(n){return t==n.id}));return n[0]},submitOrder:function(){var t=this,n=this.paymentOptionId;if(!n)return Object(r["a"])("Please Select Payment Option"),!1;var e={payment_channel_id:this.paymentOptionId,member_card_id:this.product.id};if(this.isSubmitting)return!1;this.isSubmitting=!0,Object(s["e"])(e).then((function(n){t.isSubmitting=!1,t.$store.dispatch("product/setOrderInfo",n.data),t.toStep02Page()})).catch((function(){t.isSubmitting=!1}))},toStep02Page:function(){this.$router.push({name:"step02"})}}},o=c,d=(e("fc78"),e("2877")),u=Object(d["a"])(o,i,a,!1,null,"134bf37e",null);n["default"]=u.exports},"8df6":function(t,n,e){},f8b7:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return r})),e.d(n,"e",(function(){return s})),e.d(n,"c",(function(){return c})),e.d(n,"d",(function(){return o}));var i=e("b775");function a(){return Object(i["a"])({url:"/member/cards",method:"get"})}function r(){return Object(i["a"])({url:"/payment/channels",method:"get"})}function s(t){return Object(i["a"])({url:"/member/orders",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/orders/".concat(t.order_id,"/mpurse"),method:"post",data:t})}function o(t){return Object(i["a"])({url:"/payment/mpurse/return",method:"get",params:{order_id:t}})}},fc78:function(t,n,e){"use strict";var i=e("8df6"),a=e.n(i);a.a}}]);
//# sourceMappingURL=chunk-01db0e2c.04432463.js.map